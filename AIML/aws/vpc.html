<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Ganesh kinkar Giri" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>1. Set Up VPC with Private Subnets - AIML documents</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "1. Set Up VPC with Private Subnets";
        var mkdocs_page_input_path = "AIML/aws/vpc.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../index.html" class="icon icon-home"> AIML documents
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">AIML</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Programing</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Programing/python.html">PYTHON</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Statistic</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" >Descriptive Statistics</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >Measures of Central Tendency</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Measures-of-Central-Tendency/Mean.html">Mean</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Measures-of-Central-Tendency/Median.html">Median</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Measures-of-Central-Tendency/Mode.html">Mode</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Measures of Position (Relative Standing)</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Measures-of-Position-Relative-Standing/Percentiles.html">Percentiles</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Measures-of-Position-Relative-Standing/Quartiles.html">Quartiles</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Measures-of-Position-Relative-Standing/Deciles.html">Deciles</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Measures-of-Position-Relative-Standing/Z-Score.html">Z-Score</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Shape of the Distribution</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Shape-of-the-Distribution/Skewness.html">Skewness</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Shape-of-the-Distribution/Kurtosis.html">Kurtosis</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Visualization Tools</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Visualization-Tools/Histogram.html">Histogram</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Visualization-Tools/BarChart.html">Bar Chart</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Visualization-Tools/PieChart.html">Pie Chart</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Visualization-Tools/BoxPlot.html">Box Plot</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Visualization-Tools/LinePlot.html">Line Plot</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Visualization-Tools/DotPlot.html">Dot Plot</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Measures of Dispersion (Variability)</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Measures-of-Dispersion/Range.html">Range</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Measures-of-Dispersion/Variance.html">Variance</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Measures-of-Dispersion/StandardDeviation.html">Standard Deviation</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Measures-of-Dispersion/InterquartileRange.html">Interquartile Range(IQR)</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/DescriptiveStatistics/Measures-of-Dispersion/CofficientVariation.html">Cofficient of Variation</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Inferential Statistics</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" >Population and Sample</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Population-and-Sample/Population.html">Population</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Population-and-Sample/Sample.html">Sample</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Population-and-Sample/SamplingMethods.html">Sampling Methods</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Estimation</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Estimation/PointEstimation.html">Point Estimation</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Estimation/IntervalEstimation.html">Interval Estimation</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Estimation/MarginError.html">Margin of Error</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Regression and Correlation Analysis</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Regression-and-Correlation-Analysis/LinearRegression.html">Linear Regression</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Regression-and-Correlation-Analysis/LogisticRegression.html">Logistic Regression</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Regression-and-Correlation-Analysis/MultipleRegression.html">Multiple Regression</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Regression-and-Correlation-Analysis/CorrelationCoefficients.html">Correlation Coefficients</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Hypothesis Testing</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Hypothesis-Testing/NullHypothesis.html">Null Hypothesis (H₀)</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Hypothesis-Testing/AlternativeHypothesis.html">Alternative Hypothesis (H₁)</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Hypothesis-Testing/TestStatistic.html">Test Statistic</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Hypothesis-Testing/pvalue.html">p-value</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Hypothesis-Testing/SignificanceLevel.html">Significance Level (α)</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Hypothesis-Testing/TypeIError.html">Type I Error (α)</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Hypothesis-Testing/TypeIIError.html">Type II Error (β)</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Hypothesis-Testing/PoweroftheTest.html">Power of the Test</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Parametric Tests</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Parametric-Tests/t-test.html">t-test</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Parametric-Tests/z-test.html">z-test</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Parametric-Tests/ANOVA.html">ANOVA</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Parametric-Tests/F-test.html">F-test</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Non-Parametric Tests</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Non-Parametric-Tests/Mann-WhitneyU.html">Mann-Whitney U</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Non-Parametric-Tests/Kruskal-Wallis.html">Kruskal-Wallis</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Non-Parametric-Tests/Wilcoxon.html">Wilcoxon</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Non-Parametric-Tests/Chi-square.html">Chi-square</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Resampling Methods</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Resampling-Methods/Bootstrapping.html">Bootstrapping</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Resampling-Methods/Jackknife.html">Jackknife</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Analysis of Variance (ANOVA)</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/ANOVA/One-way-ANOVA.html">One-way ANOVA</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/ANOVA/Two-way-ANOVA.html">Two-way ANOVA</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/ANOVA/Post-hoc-Tests.html">Post-hoc Tests</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Probability Theory</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Probability-Theory/ProbabilityDistributions.html">Probability Distributions</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Probability-Theory/CentralLimitTheorem.html">Central Limit Theorem</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../Statistic/InferentialStatistics/Probability-Theory/BayesianInference.html">Bayesian Inference</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Time Series</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Trend.html">Trend</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Seasonality.html">Seasonality</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Cyclic.html">Cyclic</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Noise.html">Irregular/Noise</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Stationarity.html">Stationarity</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Non-stationary.html">Non-stationary</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Autocorrelation.html">Autocorrelation</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Lag.html">Lag</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/MovingAverages.html">Moving Averages</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Holt-Winters.html">Holt-Winters Method</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Additive.html">Additive</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Multiplicative.html">Multiplicative</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/AR.html">AR (Auto Regression)</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/ARIMA.html">ARIMA</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Arimax.html">Arimax</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Sarimax.html">Sarimax</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Smoothing.html">Smoothing</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/AutomatedForecasting.html">Automated Forecasting</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/AutomatedTimeSeries.html">Automated Time Series</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Statistic/TimeSeries/Multivariate.html">Uni, Bi and Multivariate</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Statistic/metrics.html">Metrics Evaluation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Statistic/timeseries.html">Time Series Old</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Statistic/statistic-details.html">Statistic Details</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Data manipulation and analysis</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Data-manipulation-and-analysis/data-manipulation-analysis.html">PANDAS</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Data Processing</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Data-processing/sql.html">Basic SQL</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Data-processing/sql-datascience.html">Using SQL for Data Science</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Data-processing/unstructured-data.html">Unstructured Data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Data-processing/exploratory-data-analysis.html">Exploratory Data Analysis(EDA)</a>
                </li>
                <li class="toctree-l2"><a class="" href="../../Data-processing/building-ml-models-on-text-data.md">Building ML Models on Text Data</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Databases</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Databases/PostgreSQL.html">PostgreSQL</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Databases/MySQL.html">MySQL</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Databases/MongoDB.html">MongoDB</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Machine Learning</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../MachineLearning/Overview.html">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Supervised Learning</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/Overview.html">Overview</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/Regression.html">Regression</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/Classification.html">Classification</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/CrossValidation.html">Cross Validation</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/HyperparameterTuning.html">Hyperparameter Tuning</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/TuningDecisionThreshold.html">Tuning decision threshold</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Regression Models</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/RegressionModels/SimpleLinearRegression.html">Simple Linear Regression</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/RegressionModels/MultipleLinearRegression.html">Multiple Linear Regression</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/RegressionModels/PolynomialRegression.html">Polynomial Regression</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/RegressionModels/RidgeLassoRegression.html">Ridge & Lasso Regression</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/RegressionModels/SupportVectorRegression.html">Support Vector Regression (SVR)</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/RegressionModels/DecisionTreeRegression.html">Decision Tree Regression</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/RegressionModels/RandomForestRegression.html">Random Forest Regression</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Linear Classification Models</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/LinearClassificationModels/LogisticRegression.html">Logistic Regression</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/LinearClassificationModels/SupportVectorMachines.html">Support Vector Machines</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/LinearClassificationModels/SinglelayerPerceptron.html">Single-layer Perceptron</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/LinearClassificationModels/StochasticGradientDescent.html">Stochastic Gradient Descent (SGD)</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Non-linear Classification Models</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/NonlinearClassificationModels/DecisionTreeClassification.html">Decision Tree Classification</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/NonlinearClassificationModels/KNearestNeighbours.html">K-Nearest Neighbours</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/NonlinearClassificationModels/NaiveBayes.html">Naive Bayes</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/NonlinearClassificationModels/RandomForests.html">Random Forests</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/NonlinearClassificationModels/AdaBoost.html">AdaBoost</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/NonlinearClassificationModels/BaggingClassifier.html">Bagging Classifier</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/NonlinearClassificationModels/Ensemblelearningclassifiers.html">Ensemble learning classifiers</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../MachineLearning/SupervisedLearning/NonlinearClassificationModels/KernelSVM.html">Kernel SVM</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Unsupervised Learning</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../MachineLearning/UnsupervisedLearning/overview.html">Overview</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../MachineLearning/UnsupervisedLearning/Clustering.html">Clustering</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../MachineLearning/UnsupervisedLearning/Pca.html">Principal Component Analysis(PCA)</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Reinforcement Learning</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../MachineLearning/ReinforcementLearning/ReinforcementLearning.html">Overview</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Linear Algebra</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../LinearAlgebra/Overview.html">Overview</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Deep Learning</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../DeepLearning/Overview.html">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../DeepLearning/Vanishing.html">Vanishing and Exploding Gradients Problems</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Components of Neural Networks</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Components/LayersNeuralNetworks.html">Layers in Neural Networks</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Components/WeightsBiases.html">Weights and Biases</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Components/ForwardPropagation.html">Forward Propagation</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Components/ActivationFunctions.html">Activation Functions</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Components/LossFunctions.html">Loss Functions</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Components/Backpropagation.html">Backpropagation</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Components/LearningRate.html">Learning Rate</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Optimization Algorithm</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/OptimizationAlgorithm/GradientDescent.html">Gradient Descent</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/OptimizationAlgorithm/SGD.html">Stochastic Gradient Descent (SGD)</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/OptimizationAlgorithm/Adam.html">Adam (Adaptive Moment Estimation)</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/OptimizationAlgorithm/BatchNormalization.html">Batch Normalization</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/OptimizationAlgorithm/Mini-batch-GD.html">Mini-batch Gradient Descent</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/OptimizationAlgorithm/Momentum-based-GO.html">Momentum-based Gradient Optimizer</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/OptimizationAlgorithm/AdagradOptimizer.html">Adagrad Optimizer</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/OptimizationAlgorithm/RMSPropOptimizer.html">RMSProp Optimizer</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Models</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Models/FNN.html">Feedforward Neural Network (FNN)</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" >Recurrent Neural Network (RNN)</a>
    <ul>
                <li class="toctree-l4"><a class="reference internal" href="../../DeepLearning/Models/RNN.html">Recurrent Neural Network (RNN)</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../DeepLearning/Models/LSTM.html">LSTM (Long Short-Term Memory)</a>
                </li>
                <li class="toctree-l4"><a class="reference internal" href="../../DeepLearning/Models/GRU.html">GRU (Gated Recurrent Unit)</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Models/CNN.html">Convolutional Neural Network (CNN)</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Models/RBFN.html">Radial Basis Function Network (RBFN)</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Models/ComputerVision.html">Computer Vision</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Models/GANs.html">Generative Adversarial Networks (GANs)</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Models/Transformer.html">Transformer Networks</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Models/Autoencoders.html">Autoencoders</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../DeepLearning/Models/SOM.html">Self-Organizing Maps (SOM)</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Natural Language Processing(NLP)</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../NLP/overview.html">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../NLP/nlpdetails.html">NLP Details</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Retrieval-Augmented Generation(RAG)</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../RAG/rag.html">RAG</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >AI agents</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../AIagents/aiagents.html">AI agents</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Agentic AI</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../AgenticAI/general.html">general</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../AgenticAI/overview.html">Overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../AgenticAI/crewai.html">crewai</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../AgenticAI/LangGraph.html">LangGraph</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../AgenticAI/AutoGen.html">AutoGen</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../AgenticAI/aws.html">AWS</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../AgenticAI/azure.html">AZURE</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Agent Development Kit</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../AgenticAI/GCP/adk.html">ADK</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../AgenticAI/GCP/Agents.html">Agents</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../AgenticAI/GCP/Tools.html">Tools</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../AgenticAI/GCP/a2a.html">Tools</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >MCPModel Context Protocol (MCP)</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../MCP/mcp.html">MCP</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Models Details information</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Models/Ollama.html">Ollama</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Note Book</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Notebook/allnotebook.html">All Notebook</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">AIML documents</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">1. Set Up VPC with Private Subnets</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="1-set-up-vpc-with-private-subnets">1. Set Up VPC with Private Subnets<a class="headerlink" href="#1-set-up-vpc-with-private-subnets" title="Permanent link">#</a></h1>
<ul>
<li>Create a VPC with public and private subnets.</li>
<li>Private Subnet: This subnet will host the EKS nodes and won't have direct access to the internet.</li>
<li>Public Subnet: This subnet will have a NAT Gateway that allows the EKS nodes to access the internet indirectly.</li>
</ul>
<h2 id="1-create-a-vpc">1. Create a VPC<a class="headerlink" href="#1-create-a-vpc" title="Permanent link">#</a></h2>
<p><img alt="vpc" src="image/vpc1.png" />
<img alt="vpc" src="image/vpc2.png" /></p>
<h2 id="2-create-subnetprivate-public">2. Create Subnet(Private &amp; Public)<a class="headerlink" href="#2-create-subnetprivate-public" title="Permanent link">#</a></h2>
<p><strong>Private Subnet:</strong></p>
<p><img alt="subnet" src="image/subnet1.png" />
<img alt="subnet" src="image/subnet2.png" /></p>
<p><strong>Public Subnet:</strong>
<img alt="subnet" src="image/subnet3.png" />
<img alt="subnet" src="image/subnet4.png" /></p>
<h1 id="2-create-nat-gateway">2. Create NAT Gateway<a class="headerlink" href="#2-create-nat-gateway" title="Permanent link">#</a></h1>
<ul>
<li>Elastic IP: First, allocate an Elastic IP (EIP) for the NAT Gateway.</li>
<li>NAT Gateway: Create a NAT Gateway in the public subnet using the EIP. This will allow instances in the private subnet to access the internet.</li>
</ul>
<p><strong>Elastic IP:</strong>
<img alt="nat" src="image/eip.png" /></p>
<p><strong>NAT Gateway:</strong></p>
<p><img alt="nat" src="image/nat1.png" />
<img alt="nat" src="image/nat2.png" /></p>
<h1 id="3-configure-route-tables">3. Configure Route Tables<a class="headerlink" href="#3-configure-route-tables" title="Permanent link">#</a></h1>
<ul>
<li>Public Route Table: Ensure the public subnet route table has a route for 0.0.0.0/0 pointing to the Internet Gateway.</li>
<li>Private Route Table: For private subnets, configure the route table to route traffic for 0.0.0.0/0 to the NAT Gateway. - - This enables EKS nodes in private subnets to access the internet for updates, pulling container images, etc.</li>
</ul>
<p><strong>Internet gateways:</strong>
<img alt="ig" src="image/ig1.png" />
<img alt="attach-vpc" src="image/attach-vpc1.png" /></p>
<p><strong>Public Route Table:</strong>
<img alt="prt" src="image/prt1.png" />
<img alt="prtroute" src="image/prtroute1.png" />
<img alt="prtroute" src="image/prtroute2.png" /></p>
<p><strong>Private Route Table:</strong>
<img alt="prt" src="image/prt2.png" />
<img alt="prroute" src="image/prroute3.png" /></p>
<h1 id="4-set-up-eks-cluster-in-private-subnets">4. Set Up EKS Cluster in Private Subnets<a class="headerlink" href="#4-set-up-eks-cluster-in-private-subnets" title="Permanent link">#</a></h1>
<ul>
<li>When creating your EKS cluster, make sure to select the private subnets for your worker nodes.</li>
<li>Ensure that the EKS nodes are configured to communicate with the NAT Gateway by routing their internet-bound traffic   through the private subnet route table.</li>
</ul>
<h2 id="amazon-elastic-kubernetes-service">Amazon Elastic Kubernetes Service<a class="headerlink" href="#amazon-elastic-kubernetes-service" title="Permanent link">#</a></h2>
<h2 id="create-eks-cluster">Create EKS cluster<a class="headerlink" href="#create-eks-cluster" title="Permanent link">#</a></h2>
<p><img alt="eks" src="image/eks-master1.png" />
<img alt="eks" src="image/eks-master2.png" />
<img alt="eks" src="image/eks-master3.png" />
<img alt="eks" src="image/eks-master4.png" />
<img alt="eks" src="image/eks-master5.png" />
<img alt="eks" src="image/eks-master6.png" />
<img alt="eks" src="image/eks-master7.png" />
<img alt="eks" src="image/eks-master8.png" /></p>
<h1 id="7-security-group-configuration">7. Security Group Configuration<a class="headerlink" href="#7-security-group-configuration" title="Permanent link">#</a></h1>
<ul>
<li>Ensure that the security groups attached to your EKS worker nodes allow outbound traffic to the internet (through the - NAT Gateway) and inbound traffic from your application services.</li>
</ul>
<h2 id="add-ons">Add-ons<a class="headerlink" href="#add-ons" title="Permanent link">#</a></h2>
<ol>
<li>kube-proxy</li>
<li>CoreDNS</li>
<li>Metrics Server</li>
<li>Amazon VPC CNI</li>
<li>Prometheus Node Exporter</li>
<li>Amazon EBS CSI Driver</li>
<li>Mountpoint for Amazon S3 CSI Driver </li>
</ol>
<p>eks-worker-node-policy
<img alt="policy" src="image/policy.png" /></p>
<h1 id="installing-the-nvidia-gpu-operator">Installing the NVIDIA GPU Operator<a class="headerlink" href="#installing-the-nvidia-gpu-operator" title="Permanent link">#</a></h1>
<ol>
<li><strong>Add the NVIDIA Helm repository:</strong></li>
</ol>
<div class="codehilite"><pre><span></span><code>helm repo add nvidia https://helm.ngc.nvidia.com/nvidia \
    &amp;&amp; helm repo update
</code></pre></div>

<ol>
<li><strong>Install the GPU Operator.</strong></li>
</ol>
<div class="codehilite"><pre><span></span><code><span class="nv">helm</span><span class="w"> </span><span class="nv">install</span><span class="w"> </span><span class="o">--</span><span class="k">wait</span><span class="w"> </span><span class="o">--</span><span class="nv">generate</span><span class="o">-</span><span class="nv">name</span><span class="w"> </span>\
<span class="w">    </span><span class="o">-</span><span class="nv">n</span><span class="w"> </span><span class="nv">gpu</span><span class="o">-</span><span class="nv">operator</span><span class="w"> </span><span class="o">--</span><span class="nv">create</span><span class="o">-</span><span class="nv">namespace</span><span class="w"> </span>\
<span class="w">    </span><span class="nv">nvidia</span><span class="o">/</span><span class="nv">gpu</span><span class="o">-</span><span class="nv">operator</span><span class="w"> </span>\
<span class="w">    </span><span class="o">--</span><span class="nv">version</span><span class="o">=</span><span class="nv">v25</span>.<span class="mi">3</span>.<span class="mi">0</span>
</code></pre></div>

<h1 id="verify-nvidia-plugin-installed">✅ Verify NVIDIA Plugin Installed<a class="headerlink" href="#verify-nvidia-plugin-installed" title="Permanent link">#</a></h1>
<p>Check the NVIDIA device plugin DaemonSet:</p>
<div class="codehilite"><pre><span></span><code>kubectl get daemonset -n nvidia-gpu-operator| grep nvidia
</code></pre></div>

<ul>
<li><strong>You should see:</strong></li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="n">gpu</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="w">                                   </span><span class="mi">1</span><span class="w">         </span><span class="mi">1</span><span class="w">         </span><span class="mi">1</span><span class="w">       </span><span class="mi">1</span><span class="w">            </span><span class="mi">1</span><span class="w">           </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">gpu</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="o">=</span><span class="bp">true</span><span class="w">                       </span><span class="mi">12</span><span class="n">m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">container</span><span class="o">-</span><span class="n">toolkit</span><span class="o">-</span><span class="n">daemonset</span><span class="w">                      </span><span class="mi">1</span><span class="w">         </span><span class="mi">1</span><span class="w">         </span><span class="mi">1</span><span class="w">       </span><span class="mi">1</span><span class="w">            </span><span class="mi">1</span><span class="w">           </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">container</span><span class="o">-</span><span class="n">toolkit</span><span class="o">=</span><span class="bp">true</span><span class="w">                           </span><span class="mi">12</span><span class="n">m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">dcgm</span><span class="o">-</span><span class="n">exporter</span><span class="w">                                    </span><span class="mi">1</span><span class="w">         </span><span class="mi">1</span><span class="w">         </span><span class="mi">1</span><span class="w">       </span><span class="mi">1</span><span class="w">            </span><span class="mi">1</span><span class="w">           </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">dcgm</span><span class="o">-</span><span class="n">exporter</span><span class="o">=</span><span class="bp">true</span><span class="w">                               </span><span class="mi">12</span><span class="n">m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">daemonset</span><span class="w">                          </span><span class="mi">1</span><span class="w">         </span><span class="mi">1</span><span class="w">         </span><span class="mi">1</span><span class="w">       </span><span class="mi">1</span><span class="w">            </span><span class="mi">1</span><span class="w">           </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">=</span><span class="bp">true</span><span class="w">                               </span><span class="mi">12</span><span class="n">m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">mps</span><span class="o">-</span><span class="n">control</span><span class="o">-</span><span class="n">daemon</span><span class="w">                 </span><span class="mi">0</span><span class="w">         </span><span class="mi">0</span><span class="w">         </span><span class="mi">0</span><span class="w">       </span><span class="mi">0</span><span class="w">            </span><span class="mi">0</span><span class="w">           </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">=</span><span class="bp">true</span><span class="p">,</span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mps</span><span class="o">.</span><span class="n">capable</span><span class="o">=</span><span class="bp">true</span><span class="w">   </span><span class="mi">12</span><span class="n">m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">driver</span><span class="o">-</span><span class="n">daemonset</span><span class="w">                                 </span><span class="mi">0</span><span class="w">         </span><span class="mi">0</span><span class="w">         </span><span class="mi">0</span><span class="w">       </span><span class="mi">0</span><span class="w">            </span><span class="mi">0</span><span class="w">           </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">driver</span><span class="o">=</span><span class="bp">true</span><span class="w">                                      </span><span class="mi">12</span><span class="n">m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">mig</span><span class="o">-</span><span class="n">manager</span><span class="w">                                      </span><span class="mi">0</span><span class="w">         </span><span class="mi">0</span><span class="w">         </span><span class="mi">0</span><span class="w">       </span><span class="mi">0</span><span class="w">            </span><span class="mi">0</span><span class="w">           </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">mig</span><span class="o">-</span><span class="n">manager</span><span class="o">=</span><span class="bp">true</span><span class="w">                                 </span><span class="mi">12</span><span class="n">m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="n">validator</span><span class="w">                               </span><span class="mi">1</span><span class="w">         </span><span class="mi">1</span><span class="w">         </span><span class="mi">1</span><span class="w">       </span><span class="mi">1</span><span class="w">            </span><span class="mi">1</span><span class="w">           </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">operator</span><span class="o">-</span><span class="n">validator</span><span class="o">=</span><span class="bp">true</span><span class="w">                          </span><span class="mi">12</span><span class="n">m</span>
</code></pre></div>

<ul>
<li><strong>Install it (if not present):</strong></li>
</ul>
<div class="codehilite"><pre><span></span><code>kubectl apply -f https://raw.githubusercontent.com/NVIDIA/k8s-device-plugin/v0.14.1/nvidia-device-plugin.yml
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">kubectl</span><span class="w"> </span><span class="n">apply</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">raw</span><span class="p">.</span><span class="n">githubusercontent</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">NVIDIA</span><span class="o">/</span><span class="n">k8s</span><span class="o">-</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">/</span><span class="n">v0</span><span class="mf">.14.1</span><span class="o">/</span><span class="n">nvidia</span><span class="o">-</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="p">.</span><span class="n">yml</span>

<span class="n">daemonset</span><span class="p">.</span><span class="n">apps</span><span class="o">/</span><span class="n">nvidia</span><span class="o">-</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">daemonset</span><span class="w"> </span><span class="n">created</span>
<span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">kubectl</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="n">pod</span><span class="w"> </span><span class="o">-</span><span class="n">A</span><span class="w">                                                                                          </span>
<span class="n">NAMESPACE</span><span class="w">     </span><span class="n">NAME</span><span class="w">                                   </span><span class="n">READY</span><span class="w">   </span><span class="n">STATUS</span><span class="w">    </span><span class="n">RESTARTS</span><span class="w">   </span><span class="n">AGE</span>
<span class="n">kube</span><span class="o">-</span><span class="k">system</span><span class="w">   </span><span class="n">aws</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">frfnv</span><span class="w">                         </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">10</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="k">system</span><span class="w">   </span><span class="n">aws</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">hx576</span><span class="w">                         </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">19</span><span class="n">m</span>
<span class="n">kube</span><span class="o">-</span><span class="k">system</span><span class="w">   </span><span class="n">coredns</span><span class="o">-</span><span class="mi">6799</span><span class="n">d65cb</span><span class="o">-</span><span class="n">n6jbt</span><span class="w">                </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">9</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="k">system</span><span class="w">   </span><span class="n">coredns</span><span class="o">-</span><span class="mi">6799</span><span class="n">d65cb</span><span class="o">-</span><span class="n">tw92r</span><span class="w">                </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">10</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="k">system</span><span class="w">   </span><span class="n">kube</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">n5w89</span><span class="w">                       </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">10</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="k">system</span><span class="w">   </span><span class="n">kube</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">ww9cm</span><span class="w">                       </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">19</span><span class="n">m</span>
<span class="n">kube</span><span class="o">-</span><span class="k">system</span><span class="w">   </span><span class="n">metrics</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="mi">5</span><span class="n">c998cf5dc</span><span class="o">-</span><span class="n">hrlc9</span><span class="w">        </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">9</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="k">system</span><span class="w">   </span><span class="n">metrics</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="mi">5</span><span class="n">c998cf5dc</span><span class="o">-</span><span class="n">t5d5d</span><span class="w">        </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">10</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="k">system</span><span class="w">   </span><span class="n">nvidia</span><span class="o">-</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">daemonset</span><span class="o">-</span><span class="n">tcmzw</span><span class="w">   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">12</span><span class="n">s</span>
<span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">kubectl</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="n">daemonset</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">kube</span><span class="o">-</span><span class="k">system</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">grep</span><span class="w"> </span><span class="n">nvidia</span><span class="w">                                                          </span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">daemonset</span><span class="w">   </span><span class="mi">1</span><span class="w">         </span><span class="mi">1</span><span class="w">         </span><span class="mi">1</span><span class="w">       </span><span class="mi">1</span><span class="w">            </span><span class="mi">1</span><span class="w">           </span><span class="o">&lt;</span><span class="k">none</span><span class="o">&gt;</span><span class="w">          </span><span class="mi">63</span><span class="n">s</span>
<span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span>
</code></pre></div>

<h2 id="create-namespace">Create Namespace<a class="headerlink" href="#create-namespace" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">kubectl</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="n">nvidia</span><span class="o">-</span><span class="n">gpu</span><span class="o">-</span><span class="n">smi</span>
<span class="n">namespace</span><span class="o">/</span><span class="n">nvidia</span><span class="o">-</span><span class="n">gpu</span><span class="o">-</span><span class="n">smi</span><span class="w"> </span><span class="n">created</span>
<span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">apiVersion</span><span class="o">:</span><span class="w"> </span><span class="n">v1</span>
<span class="n">kind</span><span class="o">:</span><span class="w"> </span><span class="n">Pod</span>
<span class="n">metadata</span><span class="o">:</span>
<span class="w">  </span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="n">nvidia</span><span class="o">-</span><span class="n">smi</span>
<span class="w">  </span><span class="kd">namespace</span><span class="o">:</span><span class="w"> </span><span class="n">gpu</span><span class="o">-</span><span class="n">test</span>
<span class="n">spec</span><span class="o">:</span>
<span class="w">  </span><span class="n">restartPolicy</span><span class="o">:</span><span class="w"> </span><span class="n">Never</span>
<span class="w">  </span><span class="n">containers</span><span class="o">:</span>
<span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="n">name</span><span class="o">:</span><span class="w"> </span><span class="n">nvidia</span>
<span class="w">    </span><span class="n">image</span><span class="o">:</span><span class="w"> </span><span class="n">nvidia</span><span class="o">/</span><span class="n">cuda</span><span class="o">:</span><span class="mf">12.2</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="n">base</span><span class="o">-</span><span class="n">ubuntu20</span><span class="o">.</span><span class="mi">04</span>
<span class="w">    </span><span class="n">command</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="s2">&quot;nvidia-smi&quot;</span><span class="o">]</span>
<span class="w">    </span><span class="n">resources</span><span class="o">:</span>
<span class="w">      </span><span class="n">limits</span><span class="o">:</span>
<span class="w">        </span><span class="n">nvidia</span><span class="o">.</span><span class="na">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">:</span><span class="w"> </span><span class="mi">1</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">kubectl</span><span class="w"> </span><span class="n">apply</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="n">nvidia</span><span class="o">-</span><span class="n">gpu</span><span class="o">-</span><span class="n">test</span><span class="p">.</span><span class="n">yaml</span><span class="w">  </span>
<span class="n">pod</span><span class="o">/</span><span class="n">gpu</span><span class="o">-</span><span class="k">check</span><span class="w"> </span><span class="n">created</span>
<span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">kubectl</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">nvidia</span><span class="o">-</span><span class="n">gpu</span><span class="o">-</span><span class="n">smi</span><span class="w"> </span><span class="k">get</span><span class="w"> </span><span class="n">pod</span><span class="w">        </span>
<span class="n">NAME</span><span class="w">         </span><span class="n">READY</span><span class="w">   </span><span class="n">STATUS</span><span class="w">      </span><span class="n">RESTARTS</span><span class="w">   </span><span class="n">AGE</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">smi</span><span class="w">   </span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Completed</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">43</span><span class="n">s</span>
<span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">kubectl</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">nvidia</span><span class="o">-</span><span class="n">gpu</span><span class="o">-</span><span class="n">smi</span><span class="w"> </span><span class="n">nvidia</span><span class="o">-</span><span class="n">smi</span>

<span class="n">Fri</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="mi">06</span><span class="err">:</span><span class="mi">37</span><span class="err">:</span><span class="mi">40</span><span class="w"> </span><span class="mi">2025</span><span class="w"> </span>
</code></pre></div>

<p>+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 550.144.03             Driver Version: 550.144.03     CUDA Version: 12.4     |
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  NVIDIA A10G                    On  |   00000000:00:1E.0 Off |                    0 |
|  0%   23C    P8              9W /  300W |       1MiB /  23028MiB |      0%      Default |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+</p>
<p>+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI        PID   Type   Process name                              GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|  No running processes found                                                             |
+-----------------------------------------------------------------------------------------+</p>
<h2 id="nvidia-gpu-driver-already-installed-with-amazon-ami">NVIDIA GPU Driver already installed with  Amazon AMI<a class="headerlink" href="#nvidia-gpu-driver-already-installed-with-amazon-ami" title="Permanent link">#</a></h2>
<ul>
<li>Run this to confirm GPU driver:<ul>
<li><strong>nvidia-smi</strong></li>
</ul>
</li>
</ul>
<p>+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 550.144.03             Driver Version: 550.144.03     CUDA Version: 12.4     |
|-----------------------------------------+------------------------+----------------------+</p>
<h1 id="step-2-install-nvidia-gpu-operator-via-helm-recommended">✅ Step 2: Install NVIDIA GPU Operator via Helm (Recommended)<a class="headerlink" href="#step-2-install-nvidia-gpu-operator-via-helm-recommended" title="Permanent link">#</a></h1>
<p>You’ll deploy the NVIDIA GPU Operator, which automatically handles driver/toolkit/monitoring inside Kubernetes.</p>
<h2 id="1-create-the-gpu-operator-namespace">🛠️ 1. Create the gpu-operator namespace<a class="headerlink" href="#1-create-the-gpu-operator-namespace" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">kubectl</span><span class="w"> </span><span class="k">create</span><span class="w"> </span><span class="n">namespace</span><span class="w"> </span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span>
<span class="n">namespace</span><span class="o">/</span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w"> </span><span class="n">created</span>
<span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span>
</code></pre></div>

<h2 id="2-add-nvidia-helm-repo">🛠️ 2. Add NVIDIA Helm repo<a class="headerlink" href="#2-add-nvidia-helm-repo" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code><span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">helm</span><span class="w"> </span><span class="n">repo</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">nvidia</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">nvidia</span><span class="p">.</span><span class="n">github</span><span class="p">.</span><span class="n">io</span><span class="o">/</span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span>
<span class="ss">&quot;nvidia&quot;</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">repositories</span>
<span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">helm</span><span class="w"> </span><span class="n">repo</span><span class="w"> </span><span class="k">update</span>
<span class="n">Hang</span><span class="w"> </span><span class="n">tight</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">grab</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">latest</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">chart</span><span class="w"> </span><span class="n">repositories</span><span class="p">...</span>
<span class="p">...</span><span class="n">Successfully</span><span class="w"> </span><span class="n">got</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="k">update</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">&quot;nvidia&quot;</span><span class="w"> </span><span class="n">chart</span><span class="w"> </span><span class="n">repository</span>
<span class="k">Update</span><span class="w"> </span><span class="n">Complete</span><span class="p">.</span><span class="w"> </span><span class="err">⎈</span><span class="n">Happy</span><span class="w"> </span><span class="n">Helming</span><span class="err">!⎈</span>
<span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">helm</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="c1">--wait --generate-name \</span>
<span class="w">  </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w"> </span><span class="err">\</span>
<span class="w">  </span><span class="n">nvidia</span><span class="o">/</span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span>

<span class="n">W0418</span><span class="w"> </span><span class="mi">12</span><span class="err">:</span><span class="mi">22</span><span class="err">:</span><span class="mf">46.210733</span><span class="w">   </span><span class="mi">42738</span><span class="w"> </span><span class="n">warnings</span><span class="p">.</span><span class="k">go</span><span class="err">:</span><span class="mi">70</span><span class="err">]</span><span class="w"> </span><span class="n">spec</span><span class="p">.</span><span class="n">template</span><span class="p">.</span><span class="n">spec</span><span class="p">.</span><span class="n">affinity</span><span class="p">.</span><span class="n">nodeAffinity</span><span class="p">.</span><span class="n">preferredDuringSchedulingIgnoredDuringExecution</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="p">.</span><span class="n">preference</span><span class="p">.</span><span class="n">matchExpressions</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="p">.</span><span class="k">key</span><span class="err">:</span><span class="w"> </span><span class="n">node</span><span class="o">-</span><span class="k">role</span><span class="p">.</span><span class="n">kubernetes</span><span class="p">.</span><span class="n">io</span><span class="o">/</span><span class="n">master</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="ss">&quot;node-role.kubernetes.io/control-plane&quot;</span><span class="w"> </span><span class="n">instead</span>
<span class="n">W0418</span><span class="w"> </span><span class="mi">12</span><span class="err">:</span><span class="mi">22</span><span class="err">:</span><span class="mf">46.215110</span><span class="w">   </span><span class="mi">42738</span><span class="w"> </span><span class="n">warnings</span><span class="p">.</span><span class="k">go</span><span class="err">:</span><span class="mi">70</span><span class="err">]</span><span class="w"> </span><span class="n">spec</span><span class="p">.</span><span class="n">template</span><span class="p">.</span><span class="n">spec</span><span class="p">.</span><span class="n">affinity</span><span class="p">.</span><span class="n">nodeAffinity</span><span class="p">.</span><span class="n">preferredDuringSchedulingIgnoredDuringExecution</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="p">.</span><span class="n">preference</span><span class="p">.</span><span class="n">matchExpressions</span><span class="o">[</span><span class="n">0</span><span class="o">]</span><span class="p">.</span><span class="k">key</span><span class="err">:</span><span class="w"> </span><span class="n">node</span><span class="o">-</span><span class="k">role</span><span class="p">.</span><span class="n">kubernetes</span><span class="p">.</span><span class="n">io</span><span class="o">/</span><span class="n">master</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="ss">&quot;node-role.kubernetes.io/control-plane&quot;</span><span class="w"> </span><span class="n">instead</span>
<span class="nl">NAME</span><span class="p">:</span><span class="w"> </span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">1744959159</span>
<span class="k">LAST</span><span class="w"> </span><span class="nl">DEPLOYED</span><span class="p">:</span><span class="w"> </span><span class="n">Fri</span><span class="w"> </span><span class="n">Apr</span><span class="w"> </span><span class="mi">18</span><span class="w"> </span><span class="mi">12</span><span class="err">:</span><span class="mi">22</span><span class="err">:</span><span class="mi">42</span><span class="w"> </span><span class="mi">2025</span>
<span class="nl">NAMESPACE</span><span class="p">:</span><span class="w"> </span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span>
<span class="nl">STATUS</span><span class="p">:</span><span class="w"> </span><span class="n">deployed</span>
<span class="nl">REVISION</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="n">TEST</span><span class="w"> </span><span class="nl">SUITE</span><span class="p">:</span><span class="w"> </span><span class="k">None</span>
<span class="n">ganeshkinkargiri</span><span class="p">.</span><span class="nv">@M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="n">ganeshkinkargiri</span><span class="o">.</span><span class="err">@</span><span class="n">M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">kubectl</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">pod</span>
<span class="n">NAME</span><span class="w">                                                              </span><span class="n">READY</span><span class="w">   </span><span class="n">STATUS</span><span class="w">      </span><span class="n">RESTARTS</span><span class="w">   </span><span class="n">AGE</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="o">-</span><span class="n">jkjlt</span><span class="w">                                       </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">15</span><span class="n">m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">1744959159</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="o">-</span><span class="n">gc</span><span class="o">-</span><span class="mi">656</span><span class="n">c869cpktzs</span><span class="w">   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">15</span><span class="n">m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">1744959159</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="o">-</span><span class="k">master</span><span class="o">-</span><span class="mi">79</span><span class="n">f87fxj4</span><span class="w">   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">15</span><span class="n">m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">1744959159</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="o">-</span><span class="n">worker</span><span class="o">-</span><span class="n">kfw2t</span><span class="w">       </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">15</span><span class="n">m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">1744959159</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="o">-</span><span class="n">worker</span><span class="o">-</span><span class="n">vj94m</span><span class="w">       </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">15</span><span class="n">m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">85746</span><span class="n">cf4fc</span><span class="o">-</span><span class="n">gclqb</span><span class="w">                                     </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">15</span><span class="n">m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">container</span><span class="o">-</span><span class="n">toolkit</span><span class="o">-</span><span class="n">daemonset</span><span class="o">-</span><span class="n">r5vmj</span><span class="w">                          </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">15</span><span class="n">m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">cuda</span><span class="o">-</span><span class="n">validator</span><span class="o">-</span><span class="mi">4</span><span class="n">zwr6</span><span class="w">                                       </span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Completed</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">15</span><span class="n">m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">dcgm</span><span class="o">-</span><span class="n">exporter</span><span class="o">-</span><span class="n">pvlsj</span><span class="w">                                        </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">15</span><span class="n">m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">daemonset</span><span class="o">-</span><span class="n">m9bk5</span><span class="w">                              </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">15</span><span class="n">m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="n">validator</span><span class="o">-</span><span class="n">hgq8r</span><span class="w">                                   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">15</span><span class="n">m</span>
<span class="n">ganeshkinkargiri</span><span class="o">.</span><span class="err">@</span><span class="n">M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span>
</code></pre></div>

<p>kubectl port-forward nvidia-dcgm-exporter-pvlsj 9400:9400 -n gpu-operator</p>
<p>curl http://localhost:9400/metrics</p>
<h1 id="monitoring-gpus-in-kubernetes-with-dcgm">Monitoring GPUs in Kubernetes with DCGM<a class="headerlink" href="#monitoring-gpus-in-kubernetes-with-dcgm" title="Permanent link">#</a></h1>
<h1 id="nvidia-dcgm">NVIDIA DCGM<a class="headerlink" href="#nvidia-dcgm" title="Permanent link">#</a></h1>
<p>NVIDIA DCGM is a set of tools for managing and monitoring NVIDIA GPUs in large-scale, Linux-based cluster environments.</p>
<p>DCGM includes APIs for gathering GPU telemetry. Of particular interest are GPU utilization metrics (for monitoring Tensor Cores, FP64 units, and so on), memory metrics, and interconnect traffic metrics. </p>
<h2 id="dcgm-exporter">DCGM exporter<a class="headerlink" href="#dcgm-exporter" title="Permanent link">#</a></h2>
<p>Monitoring stacks usually consist of a collector, a time-series database to store metrics, and a visualization layer. A popular open-source stack is <strong>Prometheus</strong>, used along with <strong>Grafana</strong> as the visualization tool to create rich dashboards. Prometheus also includes <strong>Alertmanager</strong> to create and manage alerts. Prometheus is deployed along with <strong>kube-state-metrics</strong> and <strong>node_exporter</strong> to expose cluster-level metrics for Kubernetes API objects and node-level metrics such as CPU utilization. Figure 1 shows a sample architecture of Prometheus.</p>
<p><img alt="dcgm" src="image/dcgm1.png" /></p>
<h2 id="per-pod-gpu-metrics-in-a-kubernetes-cluster">Per-pod GPU metrics in a Kubernetes cluster<a class="headerlink" href="#per-pod-gpu-metrics-in-a-kubernetes-cluster" title="Permanent link">#</a></h2>
<p>dcgm-exporter collects metrics for all available GPUs on a node. However, in Kubernetes, you might not necessarily know which GPUs in a node would be assigned to a pod when it requests GPU resources. Starting in v1.13, kubelet has added a device monitoring feature that lets you find out the assigned devices to the pod—pod name, pod namespace, and device ID—using a pod-resources socket.</p>
<p>The http server in dcgm-exporter connects to the kubelet pod-resources server (/var/lib/kubelet/pod-resources) to identify the GPU devices running on a pod and appends the GPU devices pod information to the metrics collected.</p>
<p><img alt="dcgm" src="image/dcgm2.png" /></p>
<p>Here are some examples of setting up <strong>dcgm-exporter</strong>. If you use the <strong>NVIDIA GPU Operator</strong>, then dcgm-exporter is one of the components deployed as part of the operator.</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>prometheus-community<span class="w"> </span><span class="se">\</span>
https://prometheus-community.github.io/helm-charts

$<span class="w"> </span>helm<span class="w"> </span>repo<span class="w"> </span>update
$<span class="w"> </span>helm<span class="w"> </span>inspect<span class="w"> </span>values<span class="w"> </span>prometheus-community/kube-prometheus-stack<span class="w"> </span>&gt;<span class="w"> </span>/tmp/kube-prometheus-stack.values
<span class="c1"># Edit /tmp/kube-prometheus-stack.values in your favorite editor</span>
<span class="c1"># according to the documentation</span>
<span class="c1"># This exposes the service via NodePort so that Prometheus/Grafana</span>
<span class="c1"># are accessible outside the cluster with a browser</span>
$<span class="w"> </span>helm<span class="w"> </span>install<span class="w"> </span>prometheus-community/kube-prometheus-stack<span class="w"> </span><span class="se">\</span>
--create-namespace<span class="w"> </span>--namespace<span class="w"> </span>prometheus<span class="w"> </span><span class="se">\</span>
--generate-name<span class="w"> </span><span class="se">\</span>
--set<span class="w"> </span>prometheus.service.type<span class="o">=</span>NodePort<span class="w"> </span><span class="se">\</span>
--set<span class="w"> </span>prometheus.prometheusSpec.serviceMonitorSelectorNilUsesHelmValues<span class="o">=</span><span class="nb">false</span>
</code></pre></div>

<h2 id="installing-dcgm-exporter">Installing dcgm-exporter<a class="headerlink" href="#installing-dcgm-exporter" title="Permanent link">#</a></h2>
<p>Here’s how to get started installing dcgm-exporter to monitor GPU performance and utilization. You use the Helm chart for setting up dcgm-exporter. First, add the Helm repo:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>helm<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>gpu-helm-charts<span class="w"> </span><span class="se">\</span>
https://nvidia.github.io/gpu-monitoring-tools/helm-charts
</code></pre></div>

<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>helm<span class="w"> </span>repo<span class="w"> </span>update
</code></pre></div>

<p>Then, install the chart using Helm:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>helm<span class="w"> </span>install<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>--generate-name<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>gpu-helm-charts/dcgm-exporter
</code></pre></div>

<p>Using the Grafana service exposed at port 32032, access the Grafana homepage. Log in to the dashboard using the credentials available in the Prometheus chart: the adminPassword field in prometheus.values.</p>
<p>To now start a Grafana dashboard for GPU metrics, import the reference NVIDIA dashboard from Grafana Dashboards.</p>
<p><a href="https://grafana.com/grafana/dashboards/12239-nvidia-dcgm-exporter-dashboard/">!grafana_import_url</a></p>
<h2 id="using-the-dcgm-dashboard">Using the DCGM dashboard<a class="headerlink" href="#using-the-dcgm-dashboard" title="Permanent link">#</a></h2>
<div class="codehilite"><pre><span></span><code>kubectl port-forward -n prometheus service/kube-prometheus-stack-1744977651-grafana 32032:80
</code></pre></div>

<p>http://127.0.0.1:32032</p>
<div class="codehilite"><pre><span></span><code><span class="n">kubectl</span><span class="w"> </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w"> </span><span class="n">port</span><span class="o">-</span><span class="n">forward</span><span class="w"> </span><span class="n">svc</span><span class="o">/</span><span class="n">nvidia</span><span class="o">-</span><span class="n">dcgm</span><span class="o">-</span><span class="n">exporter</span><span class="w"> </span><span class="mi">9400</span><span class="p">:</span><span class="mi">9400</span>
</code></pre></div>

<ol>
<li>Login to Graphana</li>
<li>
<p>User: admin, credentials available in the Prometheus chart: the adminPassword field in prometheus.values. 
          adminUser: admin
          adminPassword: prom-xxxxxxx</p>
</li>
<li>
<p>Click Dashboard</p>
</li>
<li>New...</li>
<li>Import</li>
</ol>
<p><img alt="Grafana" src="image/Grafana1.png" /></p>
<p>use this URL: https://grafana.com/grafana/dashboards/12239-nvidia-dcgm-exporter-dashboard/</p>
<p><img alt="Grafana" src="image/Grafana2.png" /></p>
<p>Select Prometheus and finally Load</p>
<p><img alt="Grafana" src="image/Grafana3.png" /></p>
<p><img alt="Grafana" src="image/Grafana4.png" /></p>
<div class="codehilite"><pre><span></span><code><span class="n">NAMESPACE</span><span class="w">        </span><span class="n">NAME</span><span class="w">                                                              </span><span class="n">READY</span><span class="w">   </span><span class="n">STATUS</span><span class="w">      </span><span class="n">RESTARTS</span><span class="w">   </span><span class="n">AGE</span>
<span class="n">default</span><span class="w">          </span><span class="n">grafana</span><span class="o">-</span><span class="mi">74</span><span class="n">d4987685</span><span class="o">-</span><span class="n">cnrth</span><span class="w">                                          </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">6</span><span class="n">h33m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w">     </span><span class="n">gpu</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="o">-</span><span class="n">jkjlt</span><span class="w">                                       </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h29m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w">     </span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">1744959159</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="o">-</span><span class="n">gc</span><span class="o">-</span><span class="mi">656</span><span class="n">c869cpktzs</span><span class="w">   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h29m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w">     </span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">1744959159</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="o">-</span><span class="k">master</span><span class="o">-</span><span class="mi">79</span><span class="n">f87fxj4</span><span class="w">   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h29m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w">     </span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">1744959159</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="o">-</span><span class="n">worker</span><span class="o">-</span><span class="n">kfw2t</span><span class="w">       </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h29m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w">     </span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">1744959159</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="o">-</span><span class="n">worker</span><span class="o">-</span><span class="n">vj94m</span><span class="w">       </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h29m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w">     </span><span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">85746</span><span class="n">cf4fc</span><span class="o">-</span><span class="n">gclqb</span><span class="w">                                     </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h29m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w">     </span><span class="n">nvidia</span><span class="o">-</span><span class="n">container</span><span class="o">-</span><span class="n">toolkit</span><span class="o">-</span><span class="n">daemonset</span><span class="o">-</span><span class="n">r5vmj</span><span class="w">                          </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h29m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w">     </span><span class="n">nvidia</span><span class="o">-</span><span class="n">cuda</span><span class="o">-</span><span class="n">validator</span><span class="o">-</span><span class="mi">4</span><span class="n">zwr6</span><span class="w">                                       </span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Completed</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h28m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w">     </span><span class="n">nvidia</span><span class="o">-</span><span class="n">dcgm</span><span class="o">-</span><span class="n">exporter</span><span class="o">-</span><span class="n">pvlsj</span><span class="w">                                        </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h29m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w">     </span><span class="n">nvidia</span><span class="o">-</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">daemonset</span><span class="o">-</span><span class="n">m9bk5</span><span class="w">                              </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h29m</span>
<span class="n">gpu</span><span class="o">-</span><span class="n">operator</span><span class="w">     </span><span class="n">nvidia</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="n">validator</span><span class="o">-</span><span class="n">hgq8r</span><span class="w">                                   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h29m</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">aws</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">frfnv</span><span class="w">                                                    </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">18</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">aws</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">hx576</span><span class="w">                                                    </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">8</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">coredns</span><span class="o">-</span><span class="mi">6799</span><span class="n">d65cb</span><span class="o">-</span><span class="n">n6jbt</span><span class="w">                                           </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">18</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">coredns</span><span class="o">-</span><span class="mi">6799</span><span class="n">d65cb</span><span class="o">-</span><span class="n">tw92r</span><span class="w">                                           </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">18</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">ebs</span><span class="o">-</span><span class="n">csi</span><span class="o">-</span><span class="n">controller</span><span class="o">-</span><span class="mi">7</span><span class="n">bdbc84dfb</span><span class="o">-</span><span class="n">hg2x7</span><span class="w">                               </span><span class="mi">6</span><span class="o">/</span><span class="mi">6</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">5</span><span class="n">h58m</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">ebs</span><span class="o">-</span><span class="n">csi</span><span class="o">-</span><span class="n">controller</span><span class="o">-</span><span class="mi">7</span><span class="n">bdbc84dfb</span><span class="o">-</span><span class="n">n9jbg</span><span class="w">                               </span><span class="mi">6</span><span class="o">/</span><span class="mi">6</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">5</span><span class="n">h58m</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">ebs</span><span class="o">-</span><span class="n">csi</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">jblfb</span><span class="w">                                                </span><span class="mi">3</span><span class="o">/</span><span class="mi">3</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">5</span><span class="n">h58m</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">ebs</span><span class="o">-</span><span class="n">csi</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">qhdjs</span><span class="w">                                                </span><span class="mi">3</span><span class="o">/</span><span class="mi">3</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">5</span><span class="n">h58m</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">kube</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">n5w89</span><span class="w">                                                  </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">18</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">kube</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">ww9cm</span><span class="w">                                                  </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">8</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">metrics</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="mi">5</span><span class="n">c998cf5dc</span><span class="o">-</span><span class="n">hrlc9</span><span class="w">                                   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">18</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">metrics</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="mi">5</span><span class="n">c998cf5dc</span><span class="o">-</span><span class="n">t5d5d</span><span class="w">                                   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">18</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">nvidia</span><span class="o">-</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">daemonset</span><span class="o">-</span><span class="n">jhgpn</span><span class="w">                              </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h47m</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">nvidia</span><span class="o">-</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">-</span><span class="n">daemonset</span><span class="o">-</span><span class="n">tcmzw</span><span class="w">                              </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">8</span><span class="n">h</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">s3</span><span class="o">-</span><span class="n">csi</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="mi">9</span><span class="n">fnkm</span><span class="w">                                                 </span><span class="mi">3</span><span class="o">/</span><span class="mi">3</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">5</span><span class="n">h58m</span>
<span class="n">kube</span><span class="o">-</span><span class="n">system</span><span class="w">      </span><span class="n">s3</span><span class="o">-</span><span class="n">csi</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">m8xn4</span><span class="w">                                                 </span><span class="mi">3</span><span class="o">/</span><span class="mi">3</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">5</span><span class="n">h58m</span>
<span class="n">nvidia</span><span class="o">-</span><span class="n">gpu</span><span class="o">-</span><span class="n">smi</span><span class="w">   </span><span class="n">nvidia</span><span class="o">-</span><span class="n">smi</span><span class="w">                                                        </span><span class="mi">0</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Completed</span><span class="w">   </span><span class="mi">0</span><span class="w">          </span><span class="mi">7</span><span class="n">h44m</span>
<span class="n">prometheus</span><span class="w">       </span><span class="n">alertmanager</span><span class="o">-</span><span class="n">kube</span><span class="o">-</span><span class="n">prometheus</span><span class="o">-</span><span class="n">stack</span><span class="o">-</span><span class="mi">1744</span><span class="o">-</span><span class="n">alertmanager</span><span class="o">-</span><span class="mi">0</span><span class="w">            </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">140</span><span class="n">m</span>
<span class="n">prometheus</span><span class="w">       </span><span class="n">kube</span><span class="o">-</span><span class="n">prometheus</span><span class="o">-</span><span class="n">stack</span><span class="o">-</span><span class="mi">1744</span><span class="o">-</span><span class="n">operator</span><span class="o">-</span><span class="mi">57</span><span class="n">fb44cf74</span><span class="o">-</span><span class="mi">9</span><span class="n">dtwj</span><span class="w">              </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">140</span><span class="n">m</span>
<span class="n">prometheus</span><span class="w">       </span><span class="n">kube</span><span class="o">-</span><span class="n">prometheus</span><span class="o">-</span><span class="n">stack</span><span class="o">-</span><span class="mi">1744977651</span><span class="o">-</span><span class="n">grafana</span><span class="o">-</span><span class="mi">5988</span><span class="n">f98874</span><span class="o">-</span><span class="n">bb4xd</span><span class="w">         </span><span class="mi">3</span><span class="o">/</span><span class="mi">3</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">140</span><span class="n">m</span>
<span class="n">prometheus</span><span class="w">       </span><span class="n">kube</span><span class="o">-</span><span class="n">prometheus</span><span class="o">-</span><span class="n">stack</span><span class="o">-</span><span class="mi">1744977651</span><span class="o">-</span><span class="n">kube</span><span class="o">-</span><span class="n">state</span><span class="o">-</span><span class="n">metrics</span><span class="o">-</span><span class="mi">6</span><span class="n">db49d8w5zm</span><span class="w">   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">140</span><span class="n">m</span>
<span class="n">prometheus</span><span class="w">       </span><span class="n">kube</span><span class="o">-</span><span class="n">prometheus</span><span class="o">-</span><span class="n">stack</span><span class="o">-</span><span class="mi">1744977651</span><span class="o">-</span><span class="n">prometheus</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">exporter</span><span class="o">-</span><span class="mi">7</span><span class="n">b48v</span><span class="w">   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">140</span><span class="n">m</span>
<span class="n">prometheus</span><span class="w">       </span><span class="n">kube</span><span class="o">-</span><span class="n">prometheus</span><span class="o">-</span><span class="n">stack</span><span class="o">-</span><span class="mi">1744977651</span><span class="o">-</span><span class="n">prometheus</span><span class="o">-</span><span class="n">node</span><span class="o">-</span><span class="n">exporter</span><span class="o">-</span><span class="n">wgv5s</span><span class="w">   </span><span class="mi">1</span><span class="o">/</span><span class="mi">1</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">140</span><span class="n">m</span>
<span class="n">prometheus</span><span class="w">       </span><span class="n">prometheus</span><span class="o">-</span><span class="n">kube</span><span class="o">-</span><span class="n">prometheus</span><span class="o">-</span><span class="n">stack</span><span class="o">-</span><span class="mi">1744</span><span class="o">-</span><span class="n">prometheus</span><span class="o">-</span><span class="mi">0</span><span class="w">                </span><span class="mi">2</span><span class="o">/</span><span class="mi">2</span><span class="w">     </span><span class="n">Running</span><span class="w">     </span><span class="mi">0</span><span class="w">          </span><span class="mi">140</span><span class="n">m</span>
<span class="n">ganeshkinkargiri</span><span class="o">.</span><span class="err">@</span><span class="n">M7QJY5</span><span class="o">-</span><span class="n">A67EFC4A</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="o">%</span><span class="w"> </span>
</code></pre></div>

<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % kubectl taint nodes ip-10-0-150-130.ap-south-1.compute.internal nvidia.com/gpu-only=true:NoSchedule
node/ip-10-0-150-130.ap-south-1.compute.internal tainted
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % </p>
<h1 id="reference-linking">Reference Linking<a class="headerlink" href="#reference-linking" title="Permanent link">#</a></h1>
<p><a href="https://developer.nvidia.com/blog/monitoring-gpus-in-kubernetes-with-dcgm/">DCGM</a></p>
<p><a href="https://docs.aws.amazon.com/eks/latest/userguide/deploy-prometheus.html">Deploy Prometheus using Helm</a></p>
<h1 id="others">Others<a class="headerlink" href="#others" title="Permanent link">#</a></h1>
<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % helm repo add grafana https://grafana.github.io/helm-charts
"grafana" has been added to your repositories
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % helm repo update
Hang tight while we grab the latest from your chart repositories...
...Successfully got an update from the "nvidia" chart repository
...Successfully got an update from the "grafana" chart repository
Update Complete. ⎈Happy Helming!⎈
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % 
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % 
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % helm install grafana grafana/grafana
NAME: grafana
LAST DEPLOYED: Fri Apr 18 13:18:51 2025
NAMESPACE: default
STATUS: deployed
REVISION: 1
NOTES:
1. Get your 'admin' user password by running:</p>
<p>kubectl get secret --namespace default grafana -o jsonpath="{.data.admin-password}" | base64 --decode ; echo</p>
<ol>
<li>The Grafana server can be accessed via port 80 on the following DNS name from within your cluster:</li>
</ol>
<p>grafana.default.svc.cluster.local</p>
<p>Get the Grafana URL to visit by running these commands in the same shell:
     export POD_NAME=$(kubectl get pods --namespace default -l "app.kubernetes.io/name=grafana,app.kubernetes.io/instance=grafana" -o jsonpath="{.items[0].metadata.name}")
     kubectl --namespace default port-forward $POD_NAME 3000</p>
<ol>
<li>Login with the password from step 1 and the username: admin</li>
</ol>
<h6 id="_1"><a class="headerlink" href="#_1" title="Permanent link">#</a></h6>
<h6 id="warning-persistence-is-disabled-you-will-lose-your-data-when">WARNING: Persistence is disabled!!! You will lose your data when<a class="headerlink" href="#warning-persistence-is-disabled-you-will-lose-your-data-when" title="Permanent link">#</a></h6>
<h6 id="the-grafana-pod-is-terminated">the Grafana pod is terminated.<a class="headerlink" href="#the-grafana-pod-is-terminated" title="Permanent link">#</a></h6>
<h6 id="_2"><a class="headerlink" href="#_2" title="Permanent link">#</a></h6>
<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % export POD_NAME=$(kubectl get pods --namespace default -l "app.kubernetes.io/name=grafana,app.kubernetes.io/instance=grafana" -o jsonpath="{.items[0].metadata.name}")
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % 
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % kubectl --namespace default port-forward $POD_NAME 3000
Forwarding from 127.0.0.1:3000 -&gt; 3000
Forwarding from [::1]:3000 -&gt; 3000</p>
<p>user: admin</p>
<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % kubectl get secret --namespace default grafana -o jsonpath="{.data.admin-password}" | base64 --decode ; echo</p>
<p>JzLpeQTU3knXiqyXLYQ3FfL3udgbeMZ8ZMPWvzLF
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % </p>
<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % kubectl create namespace prometheus
namespace/prometheus created
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
"prometheus-community" has been added to your repositories
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % </p>
<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % helm upgrade -i prometheus prometheus-community/prometheus \
    --namespace prometheus \
    --set alertmanager.persistence.storageClass="gp2" \
    --set server.persistentVolume.storageClass="gp2"
Release "prometheus" does not exist. Installing it now.
NAME: prometheus
LAST DEPLOYED: Fri Apr 18 13:37:07 2025
NAMESPACE: prometheus
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
The Prometheus server can be accessed via port 80 on the following DNS name from within your cluster:
prometheus-server.prometheus.svc.cluster.local</p>
<div class="codehilite"><pre><span></span><code>helm uninstall prometheus -n prometheus
</code></pre></div>

<p>Get the Prometheus server URL by running these commands in the same shell:
  export POD_NAME=$(kubectl get pods --namespace prometheus -l "app.kubernetes.io/name=prometheus,app.kubernetes.io/instance=prometheus" -o jsonpath="{.items[0].metadata.name}")
  kubectl --namespace prometheus port-forward $POD_NAME 9090</p>
<p>The Prometheus alertmanager can be accessed via port 9093 on the following DNS name from within your cluster:
prometheus-alertmanager.prometheus.svc.cluster.local</p>
<p>Get the Alertmanager URL by running these commands in the same shell:
  export POD_NAME=$(kubectl get pods --namespace prometheus -l "app.kubernetes.io/name=alertmanager,app.kubernetes.io/instance=prometheus" -o jsonpath="{.items[0].metadata.name}")
  kubectl --namespace prometheus port-forward $POD_NAME 9093</p>
<h6 id="_3"><a class="headerlink" href="#_3" title="Permanent link">#</a></h6>
<h6 id="warning-pod-security-policy-has-been-disabled-by-default-since">WARNING: Pod Security Policy has been disabled by default since<a class="headerlink" href="#warning-pod-security-policy-has-been-disabled-by-default-since" title="Permanent link">#</a></h6>
<h6 id="it-deprecated-after-k8s-125-use">it deprecated after k8s 1.25+. use<a class="headerlink" href="#it-deprecated-after-k8s-125-use" title="Permanent link">#</a></h6>
<h6 id="index-values-prometheus-node-exporter-rbac">(index .Values "prometheus-node-exporter" "rbac"<a class="headerlink" href="#index-values-prometheus-node-exporter-rbac" title="Permanent link">#</a></h6>
<h6 id="pspenabled-with-index-values">.          "pspEnabled") with (index .Values<a class="headerlink" href="#pspenabled-with-index-values" title="Permanent link">#</a></h6>
<h6 id="prometheus-node-exporter-rbac-pspannotations">"prometheus-node-exporter" "rbac" "pspAnnotations")<a class="headerlink" href="#prometheus-node-exporter-rbac-pspannotations" title="Permanent link">#</a></h6>
<h6 id="in-case-you-still-need-it">in case you still need it.<a class="headerlink" href="#in-case-you-still-need-it" title="Permanent link">#</a></h6>
<h6 id="_4"><a class="headerlink" href="#_4" title="Permanent link">#</a></h6>
<p>The Prometheus PushGateway can be accessed via port 9091 on the following DNS name from within your cluster:
prometheus-prometheus-pushgateway.prometheus.svc.cluster.local</p>
<p>Get the PushGateway URL by running these commands in the same shell:
  export POD_NAME=$(kubectl get pods --namespace prometheus -l "app=prometheus-pushgateway,component=pushgateway" -o jsonpath="{.items[0].metadata.name}")
  kubectl --namespace prometheus port-forward $POD_NAME 9091</p>
<p>For more information on running Prometheus, visit:
https://prometheus.io/
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % </p>
<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % kubectl get pods -n kube-system -l app=ebs-csi-controller</p>
<p>NAME                                  READY   STATUS    RESTARTS   AGE
ebs-csi-controller-7bdbc84dfb-hg2x7   6/6     Running   0          5m44s
ebs-csi-controller-7bdbc84dfb-n9jbg   6/6     Running   0          5m44s
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % </p>
<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % kubectl get storageclass                                 </p>
<p>NAME   PROVISIONER             RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE
gp2    kubernetes.io/aws-ebs   Delete          WaitForFirstConsumer   false                  3d2h
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % </p>
<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % kubectl get pvc -n prometheus</p>
<p>NAME                                STATUS    VOLUME   CAPACITY   ACCESS MODES   STORAGECLASS   VOLUMEATTRIBUTESCLASS   AGE
prometheus-server                   Pending                                      gp2            <unset>                 23m
storage-prometheus-alertmanager-0   Pending                                      gp2            <unset>                 23m
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % </p>
<h1 id="trobule-shhot">Trobule shhot<a class="headerlink" href="#trobule-shhot" title="Permanent link">#</a></h1>
<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % kubectl describe node ip-10-0-153-26.ap-south-1.compute.internal | grep -i allocatable
Allocatable:
  Normal   NodeAllocatableEnforced  60m                kubelet                Updated Node Allocatable limit across pods
  Normal   NodeAllocatableEnforced  58m                kubelet                Updated Node Allocatable limit across pods
  Normal   NodeAllocatableEnforced  27m                kubelet                Updated Node Allocatable limit across pods
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % </p>
<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % kubectl get nodes -o wide
NAME                                         STATUS   ROLES    AGE   VERSION               INTERNAL-IP   EXTERNAL-IP   OS-IMAGE                                KERNEL-VERSION                  CONTAINER-RUNTIME
ip-10-0-133-51.ap-south-1.compute.internal   Ready    <none>   20h   v1.32.2-eks-677bac1   10.0.133.51   <none>        Bottlerocket OS 1.36.0 (aws-k8s-1.32)   6.1.131                         containerd://1.7.27+bottlerocket
ip-10-0-153-26.ap-south-1.compute.internal   Ready    <none>   59m   v1.32.1-eks-5d632ec   10.0.153.26   <none>        Amazon Linux 2                          5.10.234-225.921.amzn2.x86_64   containerd://1.7.27
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % </p>
<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % kubectl describe node ip-10-0-153-26.ap-south-1.compute.internal | grep -A5 "Allocatable"</p>
<p>Allocatable:
  cpu:                7910m
  ephemeral-storage:  95551679124
  hugepages-1Gi:      0
  hugepages-2Mi:      0
  memory:             31482280Ki
--
  Normal   NodeAllocatableEnforced  60m   kubelet  Updated Node Allocatable limit across pods
  Normal   NodeHasSufficientMemory  60m   kubelet  Node ip-10-0-153-26.ap-south-1.compute.internal status is now: NodeHasSufficientMemory
  Normal   NodeHasNoDiskPressure    60m   kubelet  Node ip-10-0-153-26.ap-south-1.compute.internal status is now: NodeHasNoDiskPressure
  Normal   NodeHasSufficientPID     60m   kubelet  Node ip-10-0-153-26.ap-south-1.compute.internal status is now: NodeHasSufficientPID
  Normal   Starting                 29m   kubelet  Starting kubelet.
  Warning  CgroupV1                 29m   kubelet  cgroup v1 support is in maintenance mode, please migrate to cgroup v2
--
  Normal   NodeAllocatableEnforced  29m   kubelet  Updated Node Allocatable limit across pods
  Normal   NodeHasSufficientMemory  29m   kubelet  Node ip-10-0-153-26.ap-south-1.compute.internal status is now: NodeHasSufficientMemory
  Normal   NodeHasNoDiskPressure    29m   kubelet  Node ip-10-0-153-26.ap-south-1.compute.internal status is now: NodeHasNoDiskPressure
  Normal   NodeHasSufficientPID     29m   kubelet  Node ip-10-0-153-26.ap-south-1.compute.internal status is now: NodeHasSufficientPID
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % </p>
<p>ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % kubectl describe node ip-10-0-153-26.ap-south-1.compute.internal | grep nvidia.com/gpu</p>
<div class="codehilite"><pre><span></span><code><span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">-</span><span class="n">driver</span><span class="o">-</span><span class="n">upgrade</span><span class="o">-</span><span class="n">state</span><span class="o">=</span><span class="n">upgrade</span><span class="o">-</span><span class="n">done</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">compute</span><span class="o">.</span><span class="n">major</span><span class="o">=</span><span class="mi">8</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">compute</span><span class="o">.</span><span class="n">minor</span><span class="o">=</span><span class="mi">6</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">count</span><span class="o">=</span><span class="mi">1</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">container</span><span class="o">-</span><span class="n">toolkit</span><span class="o">=</span><span class="bp">true</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">dcgm</span><span class="o">=</span><span class="bp">true</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">dcgm</span><span class="o">-</span><span class="n">exporter</span><span class="o">=</span><span class="bp">true</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">device</span><span class="o">-</span><span class="n">plugin</span><span class="o">=</span><span class="bp">true</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">driver</span><span class="o">=</span><span class="n">pre</span><span class="o">-</span><span class="n">installed</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">gpu</span><span class="o">-</span><span class="n">feature</span><span class="o">-</span><span class="n">discovery</span><span class="o">=</span><span class="bp">true</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">node</span><span class="o">-</span><span class="n">status</span><span class="o">-</span><span class="n">exporter</span><span class="o">=</span><span class="bp">true</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">deploy</span><span class="o">.</span><span class="n">operator</span><span class="o">-</span><span class="n">validator</span><span class="o">=</span><span class="bp">true</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">family</span><span class="o">=</span><span class="n">ampere</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">machine</span><span class="o">=</span><span class="n">g5</span><span class="o">.</span><span class="mi">2</span><span class="n">xlarge</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">memory</span><span class="o">=</span><span class="mi">23028</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">mode</span><span class="o">=</span><span class="n">compute</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">present</span><span class="o">=</span><span class="bp">true</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">product</span><span class="o">=</span><span class="n">NVIDIA</span><span class="o">-</span><span class="n">A10G</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">replicas</span><span class="o">=</span><span class="mi">1</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">.</span><span class="n">sharing</span><span class="o">-</span><span class="n">strategy</span><span class="o">=</span><span class="n">none</span>
<span class="w">                </span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">gpu</span><span class="o">-</span><span class="n">driver</span><span class="o">-</span><span class="n">upgrade</span><span class="o">-</span><span class="n">enabled</span><span class="p">:</span><span class="w"> </span><span class="bp">true</span>
</code></pre></div>

<p>nvidia.com/gpu:     0
  nvidia.com/gpu:     0
  nvidia.com/gpu     0           0
ganeshkinkargiri.@M7QJY5-A67EFC4A ~ % </p>
<p>Thanks — this confirms the root cause:</p>
<p>⚠️ nvidia.com/gpu: 0 in both Capacity and Allocatable</p>
<p>Even though the node has a GPU installed (you can see all the nvidia.com/gpu.* labels), Kubernetes does not recognize it as available for scheduling.</p>
<p>🎯 What's going wrong?
You have the GPU driver installed, and the nvidia-device-plugin is probably not working as expected, or the GPU is not visible to the container runtime (containerd).</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
